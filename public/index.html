<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Chat App</title>
    </head>
    <body>

    <p>Welcome to chat app!</p>

    <script src="/socket.io/socket.io.js"></script>
    <script>       
        console.log('socket.io');
        var socket = io();

        socket.on('connect', () => {
            console.log('connected to server');

            socket.on('newMessage', function (m) {
                console.log(m);
            });           
        });

        //Emit is outside on connect because we don't need it to wait for connection...
        socket.emit('createMessage', {
                from: 'Jen',
                text: 'Hey back!'
            });

        socket.on('disconnect', () => {
            console.log('disconnected from server');
        });
    </script>

    </body>

</html>